<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Max SPIEGEL - Motion Designer</title>
    
    <link rel="icon" type="image/jpg" href="img/favicon.jpg" />

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>

    <!-- Plugin CSS -->
    <link href="vendor/magnific-popup/magnific-popup.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/creative.css" rel="stylesheet">

    <!-- Temporary navbar container fix -->
    <style>
    .navbar-toggler {
        z-index: 1;
    }
    
    @media (max-width: 576px) {
        nav > .container {
            width: 100%;
        }
    }
    </style>

</head>

<body id="page-top">

    <!-- Navigation -->
    <nav class="navbar fixed-top navbar-toggleable-md navbar-light" id="mainNav">
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarExample" aria-controls="navbarExample" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="container">
            <a class="navbar-brand" href="#page-top">Max Spiegel<small> - Motion Designer</small></a>
            <div class="collapse navbar-collapse" id="navbarExample">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#about">Portfolio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contact">Contact</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <header class="masthead">
        <video id="masthead-video"></video>

        <a class="btn btn-default btn-xl" href="#about">
            <i class="fa fa-angle-down fa-2x" aria-hidden="true"></i>
        </a>
        
        <a id="video-sound" class="btn btn-default" href="#">
            <svg class="icone icone-son" aria-hidden="true">
                <use xlink:href="/vector/sprite.svg#sound-off"></use>
            </svg>
        </a>
        
        <a id="youtube-link" class="btn btn-default" href="https://youtube.com">
            <i class="fa fa-youtube fa-2x" aria-hidden="true"></i>
        </a>
        
        <a id="fullscreen-video" class="btn btn-default" href="#">
            <i class="fa fa-arrows-alt fa-2x" aria-hidden="true"></i>
        </a>

    </header>
    
    <section class="bg-primary" id="about">
        <img class="vecto1" src="img/vecto1.svg">
        <img class="vecto2" src="img/vecto2.svg">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 offset-lg-2 text-center">
                    <h1 class="section-heading text-white">Portfolio</h1>
                </div>
            </div>
        </div>
    </section>

    <section id="portfolio">
        <div class="d-flex flex-wrap">
            <div class="video-portfolio clickable col-lg-4 col-sm-6" data-toggle="modal" data-target="#youtubeModal" data-youtubeid="Q16KpquGsIc" data-options="autoplay=1&loop=1&playlist=Q16KpquGsIc" data-comment="OU A OU A OU A OU A OU A OU A OU A OU A">
                <video loop muted poster="img/portfolio/1.jpg">
                    <source src="video/portfolio/1.webm" type="video/webm">
                </video>
            </div>
            <div class="video-portfolio clickable col-lg-4 col-sm-6" data-toggle="modal" data-target="#youtubeModal" data-youtubeid="Vu-CtyqHBBY" data-options="autoplay=1&loop=1&playlist=Vu-CtyqHBBY" data-comment="<h1>Bonjour !</h1>">
                <video loop muted poster="img/portfolio/1.jpg">
                    <source src="video/portfolio/1.webm" type="video/webm">
                </video>
            </div>
            <div class="video-portfolio col-lg-4 col-sm-6">
                <video loop muted poster="img/portfolio/1.jpg">
                    <source src="video/portfolio/1.webm" type="video/webm">
                </video>
            </div>
            <div class="video-portfolio col-lg-4 col-sm-6">
                <video loop muted poster="img/portfolio/1.jpg">
                    <source src="video/portfolio/1.webm" type="video/webm">
                </video>
            </div>
            <div class="video-portfolio col-lg-4 col-sm-6">
                <video loop muted poster="img/portfolio/1.jpg">
                    <source src="video/portfolio/1.webm" type="video/webm">
                </video>
            </div>
            <div class="video-portfolio clickable col-lg-4 col-sm-6" data-toggle="modal" data-target="#vimeoModal" data-vimeoid="195989917" data-comment="Integer ut ultrices nibh. Praesent egestas suscipit velit id dictum. Quisque interdum porta rutrum. In neque lorem, pellentesque sit amet est quis, dapibus commodo neque. Aliquam rhoncus nisl nec accumsan efficitur. Aliquam nisi nisi, congue eu magna a, sollicitudin mollis lectus.">
                <video loop muted poster="img/portfolio/1.jpg">
                    <source src="video/portfolio/1.webm" type="video/webm">
                </video>
            </div>
            <div class="video-portfolio clickable col-lg-4 col-sm-6" data-toggle="modal" data-target="#youtubeModal" data-youtubeid="RV0M18MpDtQ" data-comment="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sagittis arcu ut urna ullamcorper, nec fermentum ipsum semper. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.">
                <video loop muted poster="img/portfolio/1.jpg">
                    <source src="video/portfolio/1.webm" type="video/webm">
                </video>
            </div>
        </div>
    </section>

    <section id="contact">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 offset-lg-2 text-center">
                    <h2 class="section-heading">Contactez moi !</h2>
                    <hr class="primary">
                    <p>Je suis disponible aux coordon√©es suivantes</p>
                </div>
                <div class="col-lg-4 offset-lg-2 text-center">
                    <i class="fa fa-phone fa-3x sr-contact"></i>
                    <p>07 22 22 22 22</p>
                </div>
                <div class="col-lg-4 text-center">
                    <i class="fa fa-envelope-o fa-3x sr-contact"></i>
                    <p><a href="mailto:your-email@your-domain.com">max@swag.fr</a></p>
                </div>
            </div>
        </div>
    </section>
    
    <div class="modal fade" id="youtubeModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="embed-responsive embed-responsive-16by9">
                        <iframe class="embed-responsive-item" src="" allowfullscreen></iframe>
                    </div>
                    <hr>
                    <p></p>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="vimeoModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="embed-responsive embed-responsive-16by9">
                        <iframe class="embed-responsive-item" src="" allowfullscreen></iframe>
                    </div>
                    <hr>
                    <p></p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/tether/tether.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>
    <script src="vendor/scrollreveal/scrollreveal.min.js"></script>
    <script src="vendor/magnific-popup/jquery.magnific-popup.min.js"></script>

    <!-- Custom scripts for this template -->
    <script src="js/creative.min.js"></script>
    
    <script src="https://reference.dashif.org/dash.js/nightly/dist/dash.all.min.js"></script>
    
    <script>
        var masthead_video = document.getElementById("masthead-video");
        var video_button = document.getElementById("video-sound");
        var fullscreen_button = document.getElementById("fullscreen-video");
        
        function masthead_video_mute(mute) {
            player.setMute(mute);
            if (mute) {
                video_button.children[0].children[0].setAttribute("xlink:href", "/vector/sprite.svg#sound-off");
            }
            else {
                video_button.children[0].children[0].setAttribute("xlink:href", "/vector/sprite.svg#sound-on");
            }
        }

        video_button.onclick = function () {
            if (masthead_video.muted) {
                masthead_video_mute(false);
            } else {
                masthead_video_mute(true);
            }
        };
        
        function loopVideo(e)
        {
            console.log("EVENT RECEIVED: " + e.type);
            player.seek(0);
            player.play();
        }
        
        function fullscreen(video) {
            if (video.requestFullscreen) {
            video.requestFullscreen();
            } else if (video.mozRequestFullScreen) {
            video.mozRequestFullScreen();
            } else if (video.webkitRequestFullscreen) {
            video.webkitRequestFullscreen();
            }
        }
        
        fullscreen_button.onclick = function () {
            fullscreen(masthead_video);
        };
        
        var url = "video/1_Compilation_Graphique/1_Compilation_Graphique.mpd";
        var player = dashjs.MediaPlayer().create();
        player.getDebug().setLogToBrowserConsole(false);
        player.initialize(document.querySelector("#masthead-video"), url, true);
        player.on(dashjs.MediaPlayer.events.PLAYBACK_ENDED,loopVideo);
        player.setMute(true);
        
        var portfolio_videos = document.getElementsByClassName('video-portfolio');
        
        for (video_div of portfolio_videos) {
            video_div.onmouseover = function() {this.children[0].play()};
            video_div.onmouseout = function() {this.children[0].load()};
        }
        
        $('#youtubeModal').on('show.bs.modal', function (event) {
            masthead_video_mute(true);
            var button = $(event.relatedTarget);
            var youtube_id = button.data('youtubeid');
            var comment = button.data('comment');
            var options = button.data('options');
            var modal = $(this);
            
            var youtube_url = 'https://www.youtube.com/embed/' + youtube_id + "?modestbranding=1&rel=0&html5=1"
            
            if (options) {
                youtube_url += '&' + options;
            }
            
            modal.find('.modal-body iframe')[0].src = youtube_url;
            modal.find('.modal-body p')[0].innerHTML = comment;
        });
        $('#youtubeModal').on('hidden.bs.modal', function () {
            $(this).find('.modal-body iframe')[0].src = "";
            $(this).find('.modal-body p')[0].innerHTML = "";
        });
        
        $('#vimeoModal').on('show.bs.modal', function (event) {
            masthead_video_mute(true);
            var button = $(event.relatedTarget);
            var vimeo_id = button.data('vimeoid');
            var comment = button.data('comment');
            var modal = $(this);
            modal.find('.modal-body iframe')[0].src = 'https://player.vimeo.com/video/' + vimeo_id;
            modal.find('.modal-body p')[0].innerHTML = comment;
        });
        $('#vimeoModal').on('hidden.bs.modal', function () {
            $(this).find('.modal-body iframe')[0].src = "";
            $(this).find('.modal-body p')[0].innerHTML = "";
        });
    </script>

</body>

</html>
